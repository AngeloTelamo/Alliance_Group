@{
    ViewData["Title"] = "Review";
}
<div class="review-container">

    <div class="review-content row">
        <div class="col-4" id="review-bar">
            
            <a class="return" asp-action="Index" asp-controller="Home"><i class="fas fa-arrow-left"></i></a>

            <div class="review-book-img">
                <img src="~/img/book-test.png" alt="Book Image">
            </div>

            <div class="review-title-author">
                <h4>A Clockwork Orange</h4>
                <p>by Anthony Burgess</p>
            </div>

            <div class="review-rating">
                <div class="review-star-rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fa-regular fa-star"></i>
                </div>

                <div class="review-num-rating">
                    <p>8.6</p>
                    <i class="fas fa-square"></i>
                    <p>774 Ratings</p>
                    <i class="fas fa-square"></i>
                    <p>463 Review</p>
                </div>
            </div>

            <div class="reviews">
                <i class="fas fa-splotch"></i>
                <h4>Community Reviews</h4>
            </div>

            @for (int i = 1; i <= 3; i++) @* Change to foreach for model *@
            {
            <div class="review-comments">
                
                <div class="user">
                    <img src="~/img/profile-logo.png">
                    <h4>Username</h4>
                    <p>Rated it</p>
                    <div class="review-star-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>

                <div class="review-date">
                    <h4>10 April</h4>
                    <h4>at 11:00 am</h4>
                </div>

                <div class="comments">
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>

                <div class="interaction">
                    <i class="fa-solid fa-heart"></i>
                    <i class="fa-solid fa-comment"></i>
                    <i class="fa-solid fa-share"></i>
                </div>
               
            </div>
            }

            <a href="#" class="more-review">More reviews</a>

            <a href="#" class="write-review">Write a Review</a>

        </div>

        <div class="col-8" id="review-chapter">

            <div class="review-chapter">
                <h3>Chapter 1</h3>

                <p>
                    Author Helen Macdonald goes to a forest northeast of Cambridge to watch for goshawks. 
                    Macdonald is an academic, and she loves this part of the country because it is wild and 
                    rich with history. After waiting and watching, Macdonald sees male and female goshawks 
                    circling each other in the air; then they disappear. She has a memory of birdwatching with 
                    her father and him explaining to her for the first time the concept of “patience.”
                    Three weeks later, Macdonald receives a call from her mother: her father has died. 
                    In a blur of grief, she goes to London, attends the funeral, and picks up her father’s car 
                    from the impound lot. Macdonald returns to Cambridge, has a brief and unsuccessful romance
                    with a man who leaves her when he discovers the depth of her grief, and dreams about hawks.
                    It rains heavily.
                </p>

                <p>
                    Macdonald was twelve years old when she first saw falconers at work flying their goshawks, 
                    and this experience impacted her tremendously; she goes on to become a falconer herself. 
                    After her father’s death, Macdonald decides to reach out to a hawk breeder in Northern Ireland 
                    who has one young goshawk left. She plans to drive to fetch the hawk, feeling that it somehow 
                    “chose” her. As a child, she was obsessed with birds of prey and fascinated by the archaic 
                    world of falconry; in particular, she recalls reading T. H. White’s The Goshawk when she was eight. 
                    She writes that she is “haunted” by White and describes his unhappy childhood and troubled adulthood 
                    as a teacher, writer, and closeted gay man in 1930s England.
                </p>
            </div>
            
        </div>

    </div>

</div>

<div class="modal" id="writeReviewModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="reviewForm" asp-action="YourAction" asp-controller="YourController" method="post">
                <div class="modal-header">
                    <h5 class="modal-title">Write your review</h5>
                </div>
                <div class="modal-body">

                    <h6 class="modal-title" id="h6-rating">Rating (4/5)</h6>

                    <div class="review-star-rating" id="review-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fa-regular fa-star"></i>
                    </div>

                    <h6 class="modal-title" id="h6-review">Review</h6>

                    <textarea class="form-control" id="review-textarea" rows="3" placeholder="Write your review"></textarea>

                </div>
                <div class="modal-footer d-flex justify-content-between">
                    <button type="button" class="btn btn-outline-secondary" id="btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="btn-post">Post</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>

    document.addEventListener('DOMContentLoaded', function () {
        const writeReviewButton = document.querySelector('.write-review');
        const writeReviewModal = new bootstrap.Modal(document.getElementById('writeReviewModal'));

        writeReviewButton.addEventListener('click', function () {
            writeReviewModal.show();
        });

        const cancelButton = document.querySelector('#btn-cancel');
        cancelButton.addEventListener('click', function () {
            writeReviewModal.hide();
        });
    });

</script>
